<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kdedevelop.mediani.adapter.out.media.mybatis.relationship.MediaGroupMyBatisRelationshipRepository">
    <!-- CREATE -->
    <insert id="create">
        INSERT INTO `media_group` (type_id, media_id, group_id)
        VALUES (#{item.typeId}, #{item.mediaId}, #{item.groupId})
    </insert>

    <!-- CREATE ALL -->
    <insert id="createAll">
        INSERT INTO `media_group` (type_id, media_id, group_id)
        VALUES
        <foreach collection="key" item="item" separator=",">
            (#{item.typeId}, #{item.mediaId}, #{item.groupId})
        </foreach>
    </insert>

    <!-- DELETE -->
    <delete id="delete">
        DELETE FROM `media_group`
        WHERE type_id = #{key.typeId} AND media_id = #{key.mediaId} AND group_id = #{key.groupId}
    </delete>
</mapper>